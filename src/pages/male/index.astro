---
// importaciones necesarias
import { CERDOS } from "../../consts/porcs";
import Layout from "../../layouts/Layout.astro";
import Container from "../../components/Container.astro";
import Warning from  '../../assets/alert.svg'
import WhatsApp from '../../assets/whatsapp.svg'

const malePigs = CERDOS.filter((cerdo) => cerdo.tipo === "macho");
---
<Layout>
  <Container>
    <section class="space-y-12 mt-30 mb-20 animate-slide-up-fade">
      {malePigs.map((cerdo) => (
        <div class="flex flex-col lg:flex-row gap-6 p-6 mt-8 sm:mt-24 relative">

          <!-- Lado Izquierdo -->
          <div class="flex flex-col lg:w-1/2 relative">
            <!-- Info -->
            <div class="text-left lg:text-left mb-4">
              <h2 class="text-2xl font-bold">{cerdo.nombre}</h2>
              <p class="text-gray-600 text-sm italic">{cerdo.nickname}</p>
              <p class="text-pink-600 font-medium underline decoration-wavy underline-offset-4">
                {cerdo.linea}
              </p>
            </div>

            <!-- Imagen -->
            <div class="relative">
              <img
                src={cerdo.image.logo}
                alt={`Imagen de ${cerdo.nombre}`}
                class="object-fill w-[460px] h-[320px] max-h-64"
              />

              <!-- SVG Ribbon posicionado absolutamente -->
              <div class="mt-4 text-center">
                  <p class="text-3xl font-bold text-pink-600">
                    MXN ${cerdo.price}.⁰⁰
                  </p>
                  <p class="text-ls text-gray-500 mt-1 italic">
                    <Warning class="inline-block " width="18" height="18" />
                    Aplican términos y condiciones
                  </p>
              </div>
            </div>
          </div>

          <!-- Lado Derecho -->
          <div class="lg:w-1/2 flex flex-col justify-between">
            <p class="text-gray-700 mb-4 text-pretty">{cerdo.description}</p>

            <!-- Skills -->
            <div class="space-y-5">
              {cerdo.skills.map((skill) => (
                <div>
                  <div class="flex justify-between items-center text-sm mb-1">
                    <span class="font-medium text-gray-800">{skill.label}</span>
                    <span class="text-gray-500">{skill.rating} / 5</span>
                  </div>
                  <div class="w-full bg-gray-200 h-3 rounded-lg overflow-hidden">
                    <div
                      class="h-full rounded-lg bg-gradient-to-r from-pink-500 via-yellow-400 to-green-400"
                      style={`width: ${(skill.rating / 5) * 100}%`}
                    ></div>
                  </div>
                </div>
              ))}

              <!-- Botón de contacto -->
              <a
                href={`https://wa.me/527721199599?text=${encodeURIComponent(`Hola, quisiera tener más información sobre el ejemplar ${cerdo.nombre}.`)}`}
                target="_blank"
                rel="noopener noreferrer"
                class="mt-6 px-5 py-1 text-black font-medium rounded-full shadow border-3 border-green-600 group hover:bg-green-600 hover:text-white transition-all duration-300 ease-in-out w-fit flex items-center transform hover:scale-105"
              >
                Contactar por este ejemplar
                <!-- Icono WhatsApp -->
                <WhatsApp 
                  class="text-white bg-green-600 rounded-full p-1 inline-block ml-2 transition-all duration-300 ease-in-out group-hover:bg-white group-hover:text-green-600" 
                  width="32" 
                  height="32" 
                />
              </a>
            </div>
          </div>
        </div>
      ))}
    </section>
  </Container>
</Layout>
